(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,o,t){e.exports=t(21)},,,,,,function(e,o,t){},function(e,o,t){},function(e,o,t){},function(e,o,t){},function(e,o,t){},function(e,o,t){"use strict";t.r(o);var s=t(0),n=t.n(s),i=t(4),a=t.n(i),r=(t(16),t(2)),l=t(5),c=t(6),u=t(9),h=t(7),d=t(8),p=t(1),g=(t(17),t(18),function(e){var o=e.roomName,t=e.currentRoom;return n.a.createElement("div",{className:"textBox"},n.a.createElement("p",null,o,":"),n.a.createElement("p",null,t))}),k=(t(19),function(e){var o=e.userInput,t=e.handleInput,s=e.submitChoice;e.parseEntry;return n.a.createElement("div",{className:"UserEntry"},n.a.createElement("input",{className:"UserInput",placeholder:"Please enter command here",onChange:t,value:o}),n.a.createElement("button",{onClick:s},"DO IT"))}),m=(t(20),function(e){var o=e.confirmedUserChoice,t=e.resultMessage;return n.a.createElement("div",{className:"info"},n.a.createElement("p",null,o),n.a.createElement("p",null,t))}),v=[{roomId:"55",title:"Cell",description:"A dingy cell with thick stone walls, where you awoke.",pickups:["torch","key"],obstacles:["door"],light:"lit",north:["54","door","a threshold","a locked door","an unlocked and open door"],south:["NA","NA"],west:["NA","NA"],east:["NA","NA"],up:["NA","NA"],down:["NA","NA"]},{roomId:"54",title:"Prison hall",description:"A stone hallway that connects the two cells in the prison to what you hope is the outside.",pickups:[],obstacles:["rock"],light:"lit",north:["53","rock","an unlocked and open door","a giant rock","little fragments of rock"],south:["55","NA","the open door to the cell you awoke in","NA","the open door to the cell you awoke in"],west:["44","NA","an unlocked and open door","NA","NA"],east:["NA","NA"],up:["NA","NA"],down:["NA","NA"]},{roomId:"53",title:"Outside the prison",description:"A small clearing outside the prison. Definitely more open than the prison.",pickups:[],obstacles:[],light:"lit",north:["NA","NA"],south:["54","NA","an open door to the prison hall"],west:["NA","NA"],east:["NA","NA"],up:["NA","NA"],down:["NA","NA"]},{roomId:"44",title:"Another prison cell",description:"This stone cell isn't as nice as the one you woke up in. For one thing, yours didn't have a body in the corner. Well, aside from your own, which was still alive. You decide resolutely not to interact with the body, so don't even try it.",pickups:["pickaxe"],obstacles:[""],light:"lit",north:["NA","NA"],south:["NA","NA"],west:["NA","NA"],east:["54","NA","an open door to the prison hall"],up:["NA","NA"],down:["NA","NA"]}],f=[{name:"door",roomFound:"55",description1:"a heavy wooden door, too strong to break down and locked with a heavy padlock.",descriptionSolved:"a heavy wooden door, now unlocked and open.",failedAction:"The door remains unopened.",solvedAction:"With a creak, the door swings open.",solves:"key",solved:!1,failIsHarmful:!1},{name:"darkness",roomFound:"55",description1:"an inky void of pure blackness so thick you can't even see your hand in front of your face. Not that putting your hand right in front of your face makes it any easier to see the area.",descriptionSolved:"a complete lack of darkness. You're just staring into thin air.",failedAction:"It's still dark.",solvedAction:"The darkness recedes.",solves:"torch",solved:!1,failIsHarmful:!1},{name:"rock",roomFound:"54",description1:"a big lump of what you think is granite. It definitely looks igneous to you, and felsic too. Not to mention how phaneritic it is. Must be granite. Anyway, it's too heavy to move, and it's right in your way.",descriptionSolved:"little shards of the felsic phaneritic igneous rock that you're sure was granite scattered on the floor.",failedAction:"The rock resists your efforts. Maybe that would have worked on a sedimentary rock, but this thing is igneous.",solvedAction:"The rock explodes into shards as the pick hits it. The crystals that fly out as you strike it are definitely macroscopic. You're now even more certain that it's granite, but it doesn't really matter now.",solves:"pickaxe",solved:!1,failIsHarmful:!1},{name:"orc",roomFound:"53",description1:"a gigantic orc who flexes his muscles at you menacingly as he bars your way. You feel inadequate and jealous.",descriptionSolved:"a dead orc. Your disproportionate surge of macho pride is marred slightly by the realisation that you should probably get out of here before his friends or the police arrive.",failedAction:"The orc laughs at your attempt and pushes you away with what it thinks is a gentle shove. You're pretty sure that the so-called 'gentle shove' fractured a couple of ribs, but you pretend that it did nothing because you don't want to look weak in front of this hulking mass of muscle.",solvedAction:"No matter how well-defined, a six-pack is really no defense against a crossbow bolt at close range. The orc collapses.",solves:"crossbow",solved:!1,failIsHarmful:!0},{name:"kobold",roomFound:"53",description1:"a creature that basically just like a gnome, but with a cooler name drawn from Germanic folklore. It looks angry at you.",descriptionSolved:"A dead gnome.",failedAction:"The gnome bites your knee.",solvedAction:"No matter how well-defined, a six-pack is really no defense against a crossbow bolt at close range. The orc collapses.",solves:"crossbow",solved:!1,failIsHarmful:!0}],y=[{name:"torch",roomFound:"55",description1:"a torch, which can be used to light the way. It looks like the kind that is always lit and never runs out. Merlon's Magic Torch Emporium makes good torches.",failedAction:"The area was already lit. ",solvedAction:"The torch lights up. ",solves:"darkness",inInventory:!1},{name:"pickaxe",roomFound:"44",description1:"a pickaxe with a wooden handle, used for picking. An inscription reads 'This belongs to Steve, hands off'. There's a dark mark on it that looks like an oddly angular bloodstain. Best not think too hard about that.",failedAction:"You can't pick this. ",solvedAction:"You swing the pick. ",solves:"rock",inInventory:!1},{name:"key",roomFound:"55",description1:"a heavy key designed to unlock a nearby lock. This is handy because if you had a lockpicking skill stat, it would be zero.",failedAction:"This key doesn't fit that. ",solvedAction:"You use the key in the lock. ",solves:"door",inInventory:!1},{name:"wand",roomFound:"55",description:"A magic wand put in by a programmer for testi- I mean, by a wizard to help you achieve your mystical destiny. It can do anything.",failedAction:"This never fails.",solvedAction:"You wave the wand. ",solves:["door","rock","orc","darkness"],inInventory:!1},{}],w=function(e){function o(){var e;return Object(l.a)(this,o),(e=Object(u.a)(this,Object(h.a)(o).call(this))).state={currentRoom:v[0],userInput:"",confirmedUserChoice:"",resultMessage:"",inventory:[],currentRoomText:e.compileInitialRoomDescription(v[0])},e.handleInput=e.handleInput.bind(Object(p.a)(Object(p.a)(e))),e.submitChoice=e.submitChoice.bind(Object(p.a)(Object(p.a)(e))),e.parseEntry=e.parseEntry.bind(Object(p.a)(Object(p.a)(e))),e.changeRoom=e.changeRoom.bind(Object(p.a)(Object(p.a)(e))),e.validMoveCheck=e.validMoveCheck.bind(Object(p.a)(Object(p.a)(e))),e}return Object(d.a)(o,e),Object(c.a)(o,[{key:"handleInput",value:function(e){this.setState({userInput:e.target.value})}},{key:"submitChoice",value:function(e){console.log("current command is: "+this.state.userInput),this.setState({confirmedUserChoice:this.state.userInput}),this.parseEntry(this.state.userInput,this.state.currentRoom)}},{key:"parseEntry",value:function(e,o){var t,s,n;console.log("state at parseEntry:"),console.log(this.state.currentRoom);var i=e.split(" ");console.log(i),t=i[0].toLowerCase(),i.length<=2?s="the"===i[1]?i[2].toLowerCase():i[1].toLowerCase():"the"===i[1]?(s=i[2].toLowerCase(),n=i[4].toLowerCase()):(s=i[1].toLowerCase(),n=i[3].toLowerCase()),console.log(t+" : "+s+":"+n),"go"===t?this.changeRoom(s,o):"get"===t?this.get(s,o):"check"===t?this.check(s,o):"use"===t?this.use(s,n,o):this.setState({resultMessage:"You give it your best try, but find that you can't do this."})}},{key:"changeRoom",value:function(e,o){var t=this,s=this.validMoveCheck(e,o);if("valid"===s[0]){console.log("can go this way"),console.log("changing room to "+e);for(var n=0;n<v.length;n++)o[e][0]===v[n].roomId&&(console.log(v[n].roomId),console.log(v[n].description),this.setState({currentRoom:v[n]},function(){console.log(t.state.currentRoom),t.setState({resultMessage:"You moved on"}),t.compileRoomDescription(t.state.currentRoom)}))}else if("blocked"===s[0]){var i="Before this path lies "+s[1];this.setState({resultMessage:i})}else"invalid"===s[0]&&(console.log("can't go this way"),this.setState({resultMessage:"You can't go this way"}))}},{key:"validMoveCheck",value:function(e,o){return o.hasOwnProperty(e)&&"NA"!==o[e][0]?"NA"!==o[e][1]?this.checkBlock(e,o):["valid"]:["invalid"]}},{key:"checkBlock",value:function(e,o){console.log("In checkBlock, direction is : "+e),console.log("In checkBlock, room is : "),console.log("In checkBlock, direction is : "+e);for(var t=0;t<f.length;t++){if(f[t].name===o[e][1]&&!1===f[t].solved)return["blocked",f[t].description1];if(f[t].name===o[e][1]&&!0===f[t].solved)return["valid",f[t].descriptionSolved]}}},{key:"check",value:function(e,o){if(o.obstacles.includes(e))for(var t=0;t<f.length;t++)f[t].name===e&&o.roomId===f[t].roomFound&&(!1===f[t].solved?this.setState({resultMessage:"You see "+f[t].description1}):this.setState({resultMessage:"You see "+f[t].descriptionSolved}));else if(o.pickups.includes(e))for(var s=0;s<y.length;s++)y[s].name===e&&o.roomId===y[s].roomFound&&this.setState({resultMessage:"You see "+y[s].description1});else"inventory"===e?this.state.inventory.length>0?this.setState({resultMessage:this.state.inventory}):this.setState({resultMessage:"Your pockets are empty."}):this.setState({resultMessage:"You don't see that here."})}},{key:"use",value:function(e,o,t){for(var s=this,n=!1,i=!1,a=!1,r=0;r<y.length;r++)y[r].name===e&&!0===y[r].inInventory&&(n=!0);if(!0===n){for(var l=0;l<y.length;l++)y[l].name===o&&!0===y[l].inInventory&&(a=!0);if(t.obstacles.includes(o)){i=!0;var c=this.checkSolution(e,o);"true"===c[0]?(this.alterObstacleState(e,!0),this.setState({resultMessage:c[1]},function(){var e=s.compileRoomDescription(t,function(){s.setState({currentRoomText:e})})})):"false"===c[0]&&this.setState({resultMessage:c[1]})}}!1===i&&!1===n?this.setState({resultMessage:"This isn't in your inventory, and that isn't even here."}):!0===i&&!1===n?this.setState({resultMessage:"This isn't in your inventory."}):!1===i&&!0===n&&!1===a?this.setState({resultMessage:"You can't use this on that, because that isn't here."}):!0===a&&!0===n&&!1===i&&this.setState({resultMessage:"This isn't the kind of game that lets you combine items. At least, not yet."})}},{key:"get",value:function(e,o){var t=this;console.log("activating get function for "+e),console.log(o.pickups);for(var s=0;s<o.pickups.length;s++)if(e===o.pickups[s]){console.log(o.pickups),this.setState({inventory:[].concat(Object(r.a)(this.state.inventory),[o.pickups[s]])});var n="You got the "+o.pickups[s];this.setState({resultMessage:n}),this.alterPickupState(e,!0);var i=o.pickups;console.log(i),i=i.splice(s,1),console.log(i);for(var a=function(e){console.log(o.roomId+" :  "+v[e].roomId),o.roomId===v[e].roomId&&(v[e].pickups=o.pickups,console.log(v[e].pickups),t.setState({currentRoom:v[e]},function(){t.compileRoomDescription(v[e])}))},l=0;l<v.length;l++)a(l)}}},{key:"findItemIndex",value:function(e,o){for(var t=0;t<v.length;t++)if(o.roomId===v[t].roomId)for(var s=0;s<v[t].pickups.length;s++)if(v[t].pickups[s].name===e){var n=s;return console.log("item index is "+s),n}}},{key:"alterPickupState",value:function(e,o){for(var t=0;t<y.length;t++)y[t].name===e&&(y[t].inInventory=o)}},{key:"alterObstacleState",value:function(e,o){console.log("alterObstacleState active");for(var t=0;t<f.length;t++)f[t].solves===e&&(f[t].solved=!0,console.log("alterObstacleState done"))}},{key:"checkSolution",value:function(e,o){console.log(e+": "+o);for(var t=0;t<f.length;t++)if(f[t].name===o)return console.log(e+" tried against "+f[t].solves),f[t].solves===e?["true",f[t].solvedAction]:["false",f[t].failedAction]}},{key:"compileRoomDescription",value:function(e,o){var t="";t+=e.description;for(var s=[],n=["north","south","east","west"],i=0;i<n.length;i++)e.hasOwnProperty(n[i])&&"NA"!==e[n[i]][0]&&(s=[].concat(Object(r.a)(s),[[n[i],e[n[i]]]]));console.log(s);for(var a=0;a<s.length;a++){t=t+" To the "+s[a][0]+" is "+s[a][1][2]+".",console.log(s[a][0]);var l=this.validMoveCheck(s[a][0],e);console.log(l),"blocked"===l[0]&&(t=t+" Blocking the way, you see "+s[a][1][3]+".")}if(console.log(t),0===e.pickups.length)t+=" You don't see anything worth picking up.";else if(1===e.pickups.length)t=t+" You see a "+e.pickups[0]+".";else if(e.pickups.length>=1){t+=" You also see ";for(var c=0;c<e.pickups.length;c++)0===c?t=t+"a "+e.pickups[c]:c>=1&&c<e.pickups.length-1?t=t+", a "+e.pickups[c]:c>=1&&c===e.pickups.length-1&&(t=t+" and a "+e.pickups[c]+".")}this.setState({currentRoomText:t})}},{key:"compileInitialRoomDescription",value:function(e){var o="";o+=e.description;for(var t=[],s=["north","south","east","west"],n=0;n<s.length;n++)e.hasOwnProperty(s[n])&&"NA"!==e[s[n]][0]&&(t=[].concat(Object(r.a)(t),[[s[n],e[s[n]]]]));console.log(t);for(var i=0;i<t.length;i++){o=o+"To the "+t[i][0]+" is "+t[i][1][2]+".",console.log(t[i][0]);var a=this.validMoveCheck(t[i][0],e);console.log(a),"blocked"===a[0]&&(o=o+" Blocking the way, you see "+t[i][1][3]+".")}if(console.log(o),0===e.pickups.length)o+=" You don't see anything worth picking up.";else if(1===e.pickups.length)o=o+" You see a "+e.pickups[0]+".";else if(e.pickups.length>=1){o+=" You also see ";for(var l=0;l<e.pickups.length;l++)0===l?o=o+"a "+e.pickups[l]:l>=1&&l<e.pickups.length-1?o=o+", a "+e.pickups[l]:l>=1&&l===e.pickups.length-1&&(o=o+" and a "+e.pickups[l]+".")}return o}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(g,{currentRoom:this.state.currentRoomText,roomName:this.state.currentRoom.title}),n.a.createElement(m,{confirmedUserChoice:this.state.confirmedUserChoice,resultMessage:this.state.resultMessage}),n.a.createElement(k,{userInput:this.state.userInput,handleInput:this.handleInput,submitChoice:this.submitChoice,parseEntry:this.parseEntry}))}}]),o}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(n.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,1,2]]]);
//# sourceMappingURL=main.3768c959.chunk.js.map