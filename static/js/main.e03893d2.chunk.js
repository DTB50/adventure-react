(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,o){e.exports=o(21)},,,,,,function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var s=o(0),n=o.n(s),i=o(4),a=o.n(i),r=(o(16),o(2)),l=o(5),c=o(6),h=o(9),u=o(7),d=o(8),g=o(1),p=(o(17),o(18),function(e){var t=e.roomName,o=e.currentRoom;return n.a.createElement("div",{className:"textBox"},n.a.createElement("p",null,t,":"),n.a.createElement("p",null,o))}),m=(o(19),function(e){var t=e.userInput,o=e.handleInput,s=e.submitChoice;e.parseEntry;return n.a.createElement("div",{className:"UserEntry"},n.a.createElement("input",{className:"UserInput",placeholder:"Please enter command here",onChange:o,value:t}),n.a.createElement("button",{onClick:s},"DO IT"))}),f=(o(20),function(e){var t=e.confirmedUserChoice,o=e.resultMessage;return n.a.createElement("div",{className:"info"},n.a.createElement("p",null,t),n.a.createElement("p",null,o))}),k=[{roomId:"55",title:"Cell",description:"A dingy cell with thick stone walls, where you awoke.",pickups:["torch","key"],obstacles:["door"],setDressing:["note"],light:"lit",north:["54","door","a threshold","a locked door","an unlocked and open door"],south:["NA","NA"],west:["NA","NA"],east:["NA","NA"],up:["NA","NA"],down:["NA","NA"]},{roomId:"54",title:"Prison hall",description:"A stone hallway that connects the two cells in the prison to what you hope is the outside.",pickups:[],obstacles:["rock"],setDressing:["note"],light:"lit",north:["53","rock","an unlocked and open door","a giant rock","little fragments of rock"],south:["55","NA","the open door to the cell you awoke in","NA","the open door to the cell you awoke in"],west:["44","NA","an unlocked and open door","NA","NA"],east:["NA","NA"],up:["NA","NA"],down:["NA","NA"]},{roomId:"44",title:"Another prison cell",description:"This stone cell isn't as nice as the one you woke up in. For one thing, yours didn't have a body in the corner. Well, aside from your own, which was still alive. You decide resolutely not to interact with the body, so don't even try it.",pickups:["pickaxe"],obstacles:[""],setDressing:["body"],light:"lit",north:["NA","NA"],south:["NA","NA"],west:["NA","NA"],east:["54","NA","an open door to the prison hall"],up:["NA","NA"],down:["NA","NA"]},{roomId:"53",title:"Outside the prison",description:"A small clearing outside the prison. Definitely more open than the prison.",pickups:[],obstacles:[],setDressing:[],light:"lit",north:["NA","NA"],south:["54","NA","an open door to the prison hall"],west:["NA","NA"],east:["52","NA","the town gate"],up:["NA","NA"],down:["NA","NA"]},{roomId:"43",title:"Town gate",description:"The way out of town.",pickups:[""],obstacles:[""],setDressing:["sign"],light:"lit",north:["NA","NA"],south:["NA","NA"],west:["53","outside the prison"],east:["42","NA","a road"],up:["NA","NA"],down:["NA","NA"]}],v=[{name:"door",roomFound:"55",description1:"a heavy wooden door, too strong to break down and locked with a heavy padlock. You're pretty sure it's also enchanted. And by enchanted, you mean 'dangerously cursed'.",descriptionSolved:"a heavy wooden door, now unlocked and open.",failedAction:"The door remains unopened, and you are struck by a magical force. It's definitely dangerously cursed.",solvedAction:"With a creak, the door swings open.",solves:"key",solved:!1,failIsHarmful:!0},{name:"darkness",roomFound:"55",description1:"an inky void of pure blackness so thick you can't even see your hand in front of your face. Not that putting your hand right in front of your face makes it any easier to see the area.",descriptionSolved:"a complete lack of darkness. You're just staring into thin air.",failedAction:"It's still dark.",solvedAction:"The darkness recedes.",solves:"torch",solved:!1,failIsHarmful:!1},{name:"rock",roomFound:"54",description1:"a big lump of what you think is granite. It definitely looks igneous to you, and felsic too. Not to mention how phaneritic it is. Must be granite. Anyway, it's too heavy to move, and it's right in your way.",descriptionSolved:"little shards of the felsic phaneritic igneous rock that you're sure was granite scattered on the floor.",failedAction:"The rock resists your efforts. Maybe that would have worked on a sedimentary rock, but this thing is igneous.",solvedAction:"The rock explodes into shards as the pick hits it. The crystals that fly out as you strike it are definitely macroscopic. You're now even more certain that it's granite, but it doesn't really matter now.",solves:"pickaxe",solved:!1,failIsHarmful:!1},{name:"orc",roomFound:"53",description1:"a gigantic orc who flexes his muscles at you menacingly as he bars your way. You feel inadequate and jealous.",descriptionSolved:"a dead orc. Your disproportionate surge of macho pride is marred slightly by the realisation that you should probably get out of here before his friends or the police arrive.",failedAction:"The orc laughs at your attempt and pushes you away with what it thinks is a gentle shove. You're pretty sure that the so-called 'gentle shove' fractured a couple of ribs, but you pretend that it did nothing because you don't want to look weak in front of this hulking mass of muscle.",solvedAction:"No matter how well-defined, a six-pack is really no defense against a crossbow bolt at close range. The orc collapses.",solves:"crossbow",solved:!1,failIsHarmful:!0},{name:"kobold",roomFound:"53",description1:"a creature that basically just like a gnome, but with a cooler name drawn from Germanic folklore. It looks angry at you.",descriptionSolved:"A dead gnome.",failedAction:"The gnome bites your knee.",solvedAction:"No matter how well-defined, a six-pack is really no defense against a crossbow bolt at close range. The orc collapses.",solves:"crossbow",solved:!1,failIsHarmful:!0}],y=[{name:"note",roomFound:"55",description:"The note reads 'Prisoner 24602 has been imprisoned for 45 years for drunken misconduct.'. That does explain the pounding headache that you've woken up with."},{name:"body",roomFound:"44",description:"You stared at the body like the absolute ghoul that you are. Show some respect."},{name:"note",roomFound:"54",description:"The note reads 'By order of Grimloth the Wise, this prison has been escalated to a maximum maximum security facility'. That does explain the big rock."},{name:"sign",roomFound:"43",description:"The sign reads 'You are now leaving Elfsburg. Ride safely.'"}],w=[{name:"torch",roomFound:"55",description1:"a torch, which can be used to light the way. It looks like the kind that is always lit and never runs out. Merlon's Magic Torch Emporium makes good torches.",failedAction:"The area was already lit. ",solvedAction:"The torch lights up. ",solves:"darkness",inInventory:!1},{name:"pickaxe",roomFound:"44",description1:"a pickaxe with a wooden handle, used for picking. An inscription reads 'This belongs to Steve, hands off'. There's a dark mark on it that looks like an oddly angular bloodstain. Best not think too hard about that.",failedAction:"You can't pick this. ",solvedAction:"You swing the pick. ",solves:"rock",inInventory:!1},{name:"key",roomFound:"55",description1:"a heavy key designed to unlock a nearby lock. This is handy because if you had a lockpicking skill stat, it would be zero.",failedAction:"This key doesn't fit that. ",solvedAction:"You use the key in the lock. ",solves:"door",inInventory:!1},{name:"wand",roomFound:"55",description:"A magic wand put in by a programmer for testi- I mean, by a wizard to help you achieve your mystical destiny. It can do anything.",failedAction:"This never fails.",solvedAction:"You wave the wand. ",solves:["door","rock","orc","darkness"],inInventory:!1},{}],b=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(h.a)(this,Object(u.a)(t).call(this))).state={currentRoom:k[0],userInput:"",confirmedUserChoice:"",resultMessage:"",inventory:[],currentRoomText:e.compileInitialRoomDescription(k[0]),health:3,alive:!0,resetRooms:k.slice(),resetObstacles:v.slice(),resetSetDressing:y.slice(),resetPickups:w.slice()},e.handleInput=e.handleInput.bind(Object(g.a)(Object(g.a)(e))),e.submitChoice=e.submitChoice.bind(Object(g.a)(Object(g.a)(e))),e.parseEntry=e.parseEntry.bind(Object(g.a)(Object(g.a)(e))),e.changeRoom=e.changeRoom.bind(Object(g.a)(Object(g.a)(e))),e.validMoveCheck=e.validMoveCheck.bind(Object(g.a)(Object(g.a)(e))),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleInput",value:function(e){this.setState({userInput:e.target.value})}},{key:"submitChoice",value:function(e){console.log("current command is: "+this.state.userInput),this.setState({confirmedUserChoice:this.state.userInput}),this.parseEntry(this.state.userInput,this.state.currentRoom)}},{key:"parseEntry",value:function(e,t){var o,s,n;console.log("state at parseEntry:"),console.log(this.state.currentRoom);var i=e.split(" ");if(console.log(i),o=i[0].toLowerCase(),!0===this.state.alive){if(1===i.length)return"go"===o?void this.setState({resultMessage:o+" where?"}):"use"===o?void this.setState({resultMessage:o+" what on what?"}):""===o?void this.setState({resultMessage:o+"You did nothing."}):"restart"===o?void this.restartGame():void this.setState({resultMessage:o+" what?"});i.length<=2?s="the"===i[1]?i[2].toLowerCase():i[1].toLowerCase():"the"===i[1]?(s=i[2].toLowerCase(),n=i[4].toLowerCase()):(s=i[1].toLowerCase(),n=i[3].toLowerCase()),console.log(o+" : "+s+":"+n),"go"===o?this.changeRoom(s,t):"get"===o?this.get(s,t):"check"===o?this.check(s,t):"use"===o?this.use(s,n,t):this.setState({resultMessage:"You give it your best try, but find that you can't do this."})}else!1===this.state.alive&&("restart"===o?this.restartGame():this.setState({resultMessage:"You are too dead to do this. Type 'restart' to try again."}))}},{key:"changeRoom",value:function(e,t){var o=this,s=this.validMoveCheck(e,t);if("valid"===s[0]){console.log("can go this way"),console.log("changing room to "+e);for(var n=0;n<k.length;n++)t[e][0]===k[n].roomId&&(console.log(k[n].roomId),console.log(k[n].description),this.setState({currentRoom:k[n]},function(){console.log(o.state.currentRoom),o.setState({resultMessage:"You moved on"}),o.compileRoomDescription(o.state.currentRoom)}))}else if("blocked"===s[0]){var i="Before this path lies "+s[1];this.setState({resultMessage:i})}else"invalid"===s[0]&&(console.log("can't go this way"),this.setState({resultMessage:"You can't go this way"}))}},{key:"validMoveCheck",value:function(e,t){return t.hasOwnProperty(e)&&"NA"!==t[e][0]?"NA"!==t[e][1]?this.checkBlock(e,t):["valid"]:["invalid"]}},{key:"checkBlock",value:function(e,t){console.log("In checkBlock, direction is : "+e),console.log("In checkBlock, room is : "),console.log("In checkBlock, direction is : "+e);for(var o=0;o<v.length;o++){if(v[o].name===t[e][1]&&!1===v[o].solved)return["blocked",v[o].description1];if(v[o].name===t[e][1]&&!0===v[o].solved)return["valid",v[o].descriptionSolved]}}},{key:"check",value:function(e,t){if(console.log(t.setDressing),t.obstacles.includes(e))for(var o=0;o<v.length;o++)v[o].name===e&&t.roomId===v[o].roomFound&&(!1===v[o].solved?this.setState({resultMessage:"You see "+v[o].description1}):this.setState({resultMessage:"You see "+v[o].descriptionSolved}));else if(t.setDressing.includes(e)){console.log("subject is in room");for(var s=0;s<y.length;s++)y[s].name===e&&t.roomId===y[s].roomFound&&this.setState({resultMessage:y[s].description})}else if(t.pickups.includes(e))for(var n=0;n<w.length;n++)w[n].name===e&&t.roomId===w[n].roomFound&&this.setState({resultMessage:"You see "+w[n].description1});else"inventory"===e?this.state.inventory.length>0?this.setState({resultMessage:this.state.inventory}):this.setState({resultMessage:"Your pockets are empty."}):this.setState({resultMessage:"You don't see that here."})}},{key:"use",value:function(e,t,o){for(var s=this,n=!1,i=!1,a=!1,r=0;r<w.length;r++)w[r].name===e&&!0===w[r].inInventory&&(n=!0);if(!0===n){for(var l=0;l<w.length;l++)w[l].name===t&&!0===w[l].inInventory&&(a=!0);if(o.obstacles.includes(t)){i=!0;var c=this.checkSolution(e,t);if("true"===c[0])this.alterObstacleState(e,!0),this.setState({resultMessage:c[1]},function(){var e=s.compileRoomDescription(o,function(){s.setState({currentRoomText:e})})});else if("false"===c[0])return void this.checkHarm(c)}}!1===i&&!1===n?this.setState({resultMessage:"This isn't in your inventory, and that isn't even here."}):!0===i&&!1===n?this.setState({resultMessage:"This isn't in your inventory."}):!1===i&&!0===n&&!1===a?this.setState({resultMessage:"You can't use this on that, because that isn't here."}):!0===a&&!0===n&&!1===i&&this.setState({resultMessage:"This isn't the kind of game that lets you combine items. At least, not yet."})}},{key:"get",value:function(e,t){var o=this;console.log("activating get function for "+e),console.log(t.pickups);for(var s=!1,n=0;n<t.pickups.length;n++)if(e===t.pickups[n]){console.log(t.pickups),this.setState({inventory:[].concat(Object(r.a)(this.state.inventory),[t.pickups[n]])}),s=!0;var i="You got the "+t.pickups[n];this.setState({resultMessage:i}),this.alterPickupState(e,!0);var a=t.pickups;console.log(a),a=a.splice(n,1),console.log(a);for(var l=function(e){console.log(t.roomId+" :  "+k[e].roomId),t.roomId===k[e].roomId&&(k[e].pickups=t.pickups,console.log(k[e].pickups),o.setState({currentRoom:k[e]},function(){o.compileRoomDescription(k[e])}))},c=0;c<k.length;c++)l(c)}!1===s&&this.setState({resultMessage:"You can't get that."})}},{key:"findItemIndex",value:function(e,t){for(var o=0;o<k.length;o++)if(t.roomId===k[o].roomId)for(var s=0;s<k[o].pickups.length;s++)if(k[o].pickups[s].name===e){var n=s;return console.log("item index is "+s),n}}},{key:"alterPickupState",value:function(e,t){for(var o=0;o<w.length;o++)w[o].name===e&&(w[o].inInventory=t)}},{key:"alterObstacleState",value:function(e,t){console.log("alterObstacleState active");for(var o=0;o<v.length;o++)v[o].solves===e&&(v[o].solved=!0,console.log("alterObstacleState done"))}},{key:"checkSolution",value:function(e,t){console.log(e+": "+t);for(var o=0;o<v.length;o++)if(v[o].name===t)return console.log(e+" tried against "+v[o].solves),v[o].solves===e?["true",v[o].solvedAction,o]:["false",v[o].failedAction,o]}},{key:"compileRoomDescription",value:function(e,t){var o="";o+=e.description;for(var s=[],n=["north","south","east","west"],i=0;i<n.length;i++)e.hasOwnProperty(n[i])&&"NA"!==e[n[i]][0]&&(s=[].concat(Object(r.a)(s),[[n[i],e[n[i]]]]));console.log(s);for(var a=0;a<s.length;a++){o=o+" To the "+s[a][0]+" is "+s[a][1][2]+".",console.log(s[a][0]);var l=this.validMoveCheck(s[a][0],e);console.log(l),"blocked"===l[0]&&(o=o+" Blocking the way, you see "+s[a][1][3]+".")}if(console.log(o),0===e.setDressing.length)o+=" You don't see anything else worth examining.";else if(1===e.setDressing.length)o=o+" You see a "+e.setDressing[0]+".";else if(e.setDressing.length>=1){o+=" You also see ";for(var c=0;c<e.setDressing.length;c++)0===c?o=o+"a "+e.setDressing[c]:c>=1&&c<e.setDressing.length-1?o=o+", a "+e.setDressing[c]:c>=1&&c===e.setDressing.length-1&&(o=o+" and a "+e.setDressing[c]+".")}if(0===e.pickups.length)o+=" You don't see anything worth picking up.";else if(1===e.pickups.length)o=o+" Looking for things that might be useful, you see a "+e.pickups[0]+".";else if(e.pickups.length>=1){o+=" Looking for things that might be useful, you also see ";for(var h=0;h<e.pickups.length;h++)0===h?o=o+"a "+e.pickups[h]:h>=1&&h<e.pickups.length-1?o=o+", a "+e.pickups[h]:h>=1&&h===e.pickups.length-1&&(o=o+" and a "+e.pickups[h]+".")}this.setState({currentRoomText:o})}},{key:"compileInitialRoomDescription",value:function(e){var t="";t+=e.description;for(var o=[],s=["north","south","east","west"],n=0;n<s.length;n++)e.hasOwnProperty(s[n])&&"NA"!==e[s[n]][0]&&(o=[].concat(Object(r.a)(o),[[s[n],e[s[n]]]]));console.log(o);for(var i=0;i<o.length;i++){t=t+"To the "+o[i][0]+" is "+o[i][1][2]+".",console.log(o[i][0]);var a=this.validMoveCheck(o[i][0],e);console.log(a),"blocked"===a[0]&&(t=t+" Blocking the way, you see "+o[i][1][3]+".")}if(console.log(t),0===e.setDressing.length)t+=" You don't see anything else worth examining.";else if(1===e.setDressing.length)t=t+" You see a "+e.setDressing[0]+".";else if(e.setDressing.length>=1){t+=" You also see ";for(var l=0;l<e.setDressing.length;l++)0===l?t=t+"a "+e.setDressing[l]:l>=1&&l<e.setDressing.length-1?t=t+", a "+e.setDressing[l]:l>=1&&l===e.setDressing.length-1&&(t=t+" and a "+e.setDressing[l]+".")}if(0===e.pickups.length)t+=" You don't see anything worth picking up.";else if(1===e.pickups.length)t=t+" Looking for things that might be useful, you see a "+e.pickups[0]+".";else if(e.pickups.length>=1){t+=" Looking for things that might be useful, you also see ";for(var c=0;c<e.pickups.length;c++)0===c?t=t+"a "+e.pickups[c]:c>=1&&c<e.pickups.length-1?t=t+", a "+e.pickups[c]:c>=1&&c===e.pickups.length-1&&(t=t+" and a "+e.pickups[c]+".")}return t}},{key:"checkHarm",value:function(e){if(!0===v[e[2]].failIsHarmful){console.log("fail is harmful");var t=this.state.health;t--,this.setState({health:t})}0===this.state.health?(this.setState({alive:!1}),this.setState({resultMessage:e[1]+" You died. Enter 'restart' to try again."})):this.setState({resultMessage:e[1]+" It hurt. You have "+this.state.health+" hits left in you."})}},{key:"restartGame",value:function(){this.setState({rooms:this.state.resetRooms}),this.setState({obstacles:this.state.resetRooms}),this.setState({setDressing:this.state.resetSetDressing}),this.setState({pickups:this.state.resetPickups}),this.setState({inventory:[]}),this.setState({health:3}),this.setState({alive:!0}),this.setState({resultMessage:"You restarted the game."}),this.setState({currentRoom:k[0]}),this.setState({currentRoomText:this.compileInitialRoomDescription(k[0])})}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(p,{currentRoom:this.state.currentRoomText,roomName:this.state.currentRoom.title}),n.a.createElement(f,{confirmedUserChoice:this.state.confirmedUserChoice,resultMessage:this.state.resultMessage}),n.a.createElement(m,{userInput:this.state.userInput,handleInput:this.handleInput,submitChoice:this.submitChoice,parseEntry:this.parseEntry}))}}]),t}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(n.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,1,2]]]);
//# sourceMappingURL=main.e03893d2.chunk.js.map